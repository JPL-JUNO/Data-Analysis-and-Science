# 索引

就像索引可以帮助我们在图书馆中查找书籍一样，它也可以帮助我们在 Pandas 中查找数据。我们已经看到，一个系列有一个索引（用于其元素），而一个数据框有两个索引（一个用于行，另一个用于列）。

Pandas 中的索引要灵活得多：我们可以将现有列变成索引，也可以将索引重新变成常规列。我们可以将多个列组合成一个分层多索引，然后执行搜索该层次结构的特定部分。事实上，知道如何创建、查询和操作多索引数据框是流畅使用 Pandas 的关键。

要从数据框中检索满足特定条件的行，我们可以使用布尔系列作为掩码索引。**通常，特别是如果我们要从列中查找特定值，将该列转换为数据框的索引更有意义，从而降低代码的复杂性和长度**。使用 Pandas 的 `set_index` 方法可以轻松完成此操作。

请注意，`set_index` 根据原始数据框返回一个新的数据框。

> `set_index` 方法（以及 pandas 中的许多其他方法）都支持 `inplace` 参数。如果调用 `set_index` 并传递 `inplace=True`，该方法将返回 `None` 并修改调用它的数据框。核心 pandas 开发人员已警告说，这是一个坏主意，因为它对内存和性能做出了错误的假设。他们说使用 `inplace=True` 没有任何好处。此外，返回新的数据框允许方法链接，使长查询更具可读性。因此，`inplace` 参数可能会在 pandas 的未来版本中消失。
>
## 使用多索引

每个数据框都有一个索引，为行提供标签。我们已经看到，我们可以使用 `loc` 访问器通过索引检索一个或多个行。这种索引通常对我们很有用。但在很多情况下，它还不够。这是因为这个世界充满了层次化的信息，或者说，如果我们将信息分层，这些信息就更容易处理。

请记住，创建多索引时，我们希望最通用的部分位于外部，因此首先被提及。如果您创建带有日期的多索引，则按年、月、日的顺序排列。如果为公司的销售数据，您可以使用地区、国家和城市来检索给定的所有行。通常（但并非总是），多层索引反映一个层次结构。
